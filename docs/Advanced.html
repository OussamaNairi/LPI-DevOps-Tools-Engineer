<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Package Notes</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Psyc 7709</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Syllabus.html">Syllabus</a>
</li>
<li>
  <a href="Schedule.html">Schedule</a>
</li>
<li>
  <a href="Videos.html">Videos</a>
</li>
<li>
  <a href="Resources.html">Resources</a>
</li>
<li>
  <a href="ExampleCode.html">ExampleCode</a>
</li>
<li>
  <a href="Advanced.html">Package Notes</a>
</li>
<li>
  <a href="MidtermAssignment.html">Midterm</a>
</li>
<li>
  <a href="FinalProject.html">Final</a>
</li>
<li>
  <a href="book/docs/index.html">Our Book</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Package Notes</h1>

</div>


<p>For each topic that we cover every week, there are numerous additional packages and techniques that we won’t have time to cover directly. This is a short list of some of those packages and techniques. I will add to this list as we go, if you have something to add to the list, let me know, or fork this repo and make a pull-request.</p>
<div id="ggplot2" class="section level2">
<h2>ggplot2</h2>
<div id="add-on-packages" class="section level3">
<h3>Add-on packages</h3>
<ul>
<li><a href="https://www.ggplot2-exts.org">https://www.ggplot2-exts.org</a> A repository of 50+ add on packages for ggplot2</li>
<li><a href="https://gganimate.com">https://gganimate.com</a>
<ul>
<li>allows you to create animated .gifs of ggplots</li>
<li>I made a bunch of animated gifs for a statistics textbook. They are all here along with the code <a href="https://crumplab.github.io/statistics/gifs.html">https://crumplab.github.io/statistics/gifs.html</a></li>
</ul></li>
<li><a href="https://github.com/slowkow/ggrepel%5D">ggrepel</a> allows you to repel overlapping text labels away from each other.</li>
<li><a href="https://github.com/dreamRs/esquisse">esquisse</a> a GUI (graphic user interface) that allows you make ggplot graphs using drag-drop, and clickable options</li>
<li><a href="https://github.com/metrumresearchgroup/ggedit">ggedit</a> similar to above, clickable editing of ggplot graphs</li>
<li><a href="https://plot.ly/r/">plotly</a> a package similar to ggplot, makes a whole variety of graphs, mainly for use in websites. Allows interactive graphs.
<ul>
<li>As an example, I used plotly on my publications website, if you hover over the dots, info pops up <a href="https://crumplab.github.io/Publications.html">https://crumplab.github.io/Publications.html</a>.</li>
</ul></li>
<li><strong>ggpubr</strong> (install from CRAN), many useful things, including the <code>ggarrange</code> function which allows you to knit multiple plots together</li>
<li><strong>ggthemes</strong> extra themes, scales, and geoms</li>
</ul>
</div>
<div id="figure-output-tips" class="section level3">
<h3>Figure Output tips</h3>
<p>How do you control the size (width/height) of the figure, and where can you can get a file, like a .pdf or a .png of the figure?</p>
<p>I use knitr options to solve these problems.</p>
</div>
</div>
<div id="knitr-options" class="section level2">
<h2>knitr options</h2>
<p>When you create a new R Markdown document you will see the following code chunk underneath the yaml, at the beginning of the document. It usually looks like this:</p>
<pre class="markdown"><code>```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```</code></pre>
<p>This chunk is named setup, it is not printed in your output, but <strong>it controls the global setup options</strong> for the whole document. Any option you set here applies to all of the remaining code chunks you create. It’s a way of setting defaults.</p>
<p>Here are some helpful defaults you can add. You turn the option on with <code>TRUE</code>, and turn it off with <code>FALSE</code>.</p>
<ul>
<li><code>echo=TRUE</code> sets the default to print all remaining code blocks to the output, <code>FALSE</code> sets the default to not print the code blocks</li>
<li><code>warning = FALSE</code> turns off printing of warnings</li>
<li><code>message = FALSE</code> turns off printing of messages, these commonly occur when you load a package, where you receive a message that the package was loaded</li>
<li><code>eval = FALSE</code> sets the default to <strong>NOT</strong> evaluate the code chunk as R Code. This will not run the code block, but the code block will still print if <code>echo=TRUE</code></li>
<li><code>error=TRUE</code> normally the knit fails when there is an error in the code. If you set <code>error=TRUE</code> the knit will complete, and return an error message for code blocks with errors.</li>
</ul>
<pre class="markdown"><code>```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE, 
                      eval = FALSE,
                      error = TRUE)
```</code></pre>
<div id="knitr-figure-output-defaults" class="section level3">
<h3>knitr figure output defaults</h3>
<p>The following setup options are useful for figure output.</p>
<ul>
<li><code>fig.width = 3</code> sets the default width in inches for all figures</li>
<li><code>fig.height = 3</code> sets the default height in inches for all figures</li>
<li><code>fig.path = "myfigs/"</code> defines folder where figure files will be saved. This will be relative to your current working directoy</li>
<li><code>dev = c("pdf", "png")</code> tells knitr to output both .png, and .pdf versions of the figure. The .pdf contains vector graphics, meaning the figure can be resized without pixelization.</li>
</ul>
<pre class="markdown"><code>```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      fig.width = 3,
                      fig.height = 3,
                      fig.path = &quot;myfigs/&quot;,
                      dev = c(&quot;pdf&quot;, &quot;png&quot;))
```</code></pre>
</div>
<div id="figure-output-per-code-block" class="section level3">
<h3>figure output per code block</h3>
<p>You can set the options for remaining code blocks individually. These will overrule the default options that you specify in the setup chunk.</p>
<pre class="markdown"><code>```{r figurename, fig.width =5, fig.height =7}

# some code that generates a figure

```</code></pre>
</div>
</div>
<div id="tables" class="section level2">
<h2>tables</h2>
<p>There are several useful (incredible even) packages for making tables in R. Here are a few:</p>
<ul>
<li><code>knitr</code> package and it’s <code>kable</code> function (Create tables in Latex, HTML, Markdown)</li>
<li><code>xtable</code> package, lots of functions for tables. <a href="https://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf">Here are some xtable examples xtable</a></li>
<li><code>kableExtra</code> lots of additional table functionality</li>
<li><code>tangram</code> a grammar of tables approach</li>
<li><code>papaja</code> for apa-style tables</li>
</ul>
<div id="important-table-info" class="section level3">
<h3>Important table info</h3>
<p>Two things to note, tables can be difficult, and there are different output formats.</p>
<ol style="list-style-type: decimal">
<li><p>Tables in R can be difficult. For example, if you are comfortable with making tables in Excel, then R will be much more difficult by comparison. In Excel, it is easy to enter information in any cell, merge any cells, add any kind of formatting you want anywhere, just by clicking around and making the changes. In R, every detail of the table is specified by script. Some of the table packages make simple tables easy (hurray!), and some of them make complicated tables possible (also good), but not necessarilly easy.</p></li>
<li><p>R can output tables in many formats including HTML for the web, Latex for .pdf, and other formats (e.g., word, markdown). Sometimes (depending on the functions you are using) you will run into issues with outputting tables in different formats. Or, you will have to take steps to ensure that you are outputting the table in the format that you want.</p></li>
</ol>
</div>
<div id="knitrkable" class="section level3">
<h3>knitr::kable</h3>
<p><code>kable()</code> is a function inside the knitr package. To use it you need to load the knitr library, or you can use <code>knitr::kable()</code>, which tells R to find kable inside the knitr package if you haven’t loaded knitr using <code>library(knitr)</code>.</p>
<p><code>kable()</code> is great for quickly rendering data frames as nice tables without much hassle.</p>
<pre class="r"><code>df &lt;- data.frame(A=1,
                 B=2,
                 C=3,
                 D=4)
knitr::kable(df)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">A</th>
<th align="right">B</th>
<th align="right">C</th>
<th align="right">D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">2</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
</tbody>
</table>
</div>
<div id="xtable" class="section level3">
<h3>xtable</h3>
<p>Look at the xtable examples document for more info. <a href="https://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf">https://cran.r-project.org/web/packages/xtable/vignettes/xtableGallery.pdf</a></p>
<pre class="r"><code>library(xtable) # load xtable
data(tli) # loads a sample data frame

# conduct an ANOVA
 fm1 &lt;- aov(tlimth ~ sex + ethnicty + grade + disadvg, data = tli)
 
# print the table for HTML using xtable and kable together
knitr::kable(xtable(fm1))</code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">Df</th>
<th align="right">Sum Sq</th>
<th align="right">Mean Sq</th>
<th align="right">F value</th>
<th align="right">Pr(&gt;F)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>sex</td>
<td align="right">1</td>
<td align="right">75.37255</td>
<td align="right">75.37255</td>
<td align="right">0.3751912</td>
<td align="right">0.5416830</td>
</tr>
<tr class="even">
<td>ethnicty</td>
<td align="right">3</td>
<td align="right">2572.14918</td>
<td align="right">857.38306</td>
<td align="right">4.2679008</td>
<td align="right">0.0071831</td>
</tr>
<tr class="odd">
<td>grade</td>
<td align="right">1</td>
<td align="right">36.30740</td>
<td align="right">36.30740</td>
<td align="right">0.1807318</td>
<td align="right">0.6717271</td>
</tr>
<tr class="even">
<td>disadvg</td>
<td align="right">1</td>
<td align="right">59.30338</td>
<td align="right">59.30338</td>
<td align="right">0.2952017</td>
<td align="right">0.5882062</td>
</tr>
<tr class="odd">
<td>Residuals</td>
<td align="right">93</td>
<td align="right">18682.86749</td>
<td align="right">200.89105</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Note this will print a table in latex for .pdf
# xtable(fm1)</code></pre>
</div>
<div id="kableextra" class="section level3">
<h3>kableExtra</h3>
<p>There are many great things about <code>kableExtra</code>. One great thing is that <code>kableExtra</code> has unique table options for html and for formatting to .pdf through latex. For example, interactive tables are possible in html, but not in .pdf. Another great thing is the ability to add rows of headers on top of each other. For example, data.frames in R only have one row of headers for the columns, <code>kableExtra</code> can add more on top.</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">HTML info for kableExtra</a></li>
<li><a href="http://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf">Latex info (pdf) for kableExtra</a></li>
</ul>
<pre class="r"><code>library(kableExtra)
df &lt;- data.frame(A=1,
                 B=2,
                 C=3,
                 D=4)
kable(df) %&gt;%
  kable_styling(&quot;striped&quot;) %&gt;%
  add_header_above(c(&quot;Group 1&quot; = 2, &quot;Group 2&quot; = 2))</code></pre>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Group 1
</div>
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Group 2
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
C
</th>
<th style="text-align:right;">
D
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
</tr>
</tbody>
</table>
</div>
<div id="tangram" class="section level3">
<h3>tangram</h3>
<p>This package implements a grammar of tables. Similar to the concept behind <code>ggplot2</code>, which implements a grammar of graphics for figures.</p>
<ul>
<li><a href="https://github.com/spgarbet/tangram">tangram github</a></li>
<li><a href="http://htmlpreview.github.io/?https://raw.githubusercontent.com/spgarbet/tangram/master/inst/doc/example.html">tangram html examples</a></li>
</ul>
</div>
<div id="papaja" class="section level3">
<h3>papaja</h3>
<p><code>papaja</code> is a package for rendering APA-style manuscripts in pdf using R Markdown. We will learn more about <code>papaja</code> in class. One feature of <code>papaja</code> is that it supports APA-style tables.</p>
<ul>
<li><a href="https://crsh.github.io/papaja_man/">papaja documentation</a></li>
<li><a href="https://crsh.github.io/papaja_man/reporting.html#tables">papaja APA tables</a></li>
</ul>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
